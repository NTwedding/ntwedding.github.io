<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thiệp mời cưới - Ngọc Thảo & Anh Khoa</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Great+Vibes&family=Playfair+Display:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #93404D;
            --light-primary: #b76d78;
            --background-color: #f9f3f5;
            --card-bg: #ffffff;
            --text-color: #93404D;
            --secondary-text: #333333;
        }

        html, body {
            height: 100%;
            width: 100%;
            overflow: hidden;
            position: relative;
            font-family: 'Cormorant Garamond', serif;
            color: var(--text-color);
            background-color: var(--background-color);
        }

        .fullscreen-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .card-container {
            position: relative;
            width: 90%;
            max-width: 400px;
            height: 90vh;
            max-height: 700px;
            perspective: 2000px;
            z-index: 10;
        }

        .page {
            position: absolute;
            width: 100%;
            height: 100%;
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            backface-visibility: hidden;
            transition: transform 1s cubic-bezier(0.645, 0.045, 0.355, 1), 
                        opacity 0.8s cubic-bezier(0.645, 0.045, 0.355, 1);
            will-change: transform, opacity;
        }

        .page-content {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            overflow-y: auto;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .page-content::-webkit-scrollbar {
            display: none;
        }

        .page.active {
            opacity: 1;
            visibility: visible;
            transform: rotateY(0) translateZ(0);
            z-index: 10;
            pointer-events: all;
        }

        .page.prev, .page.next {
            opacity: 0;
            visibility: hidden;
            pointer-events: none;
        }

        .parents-info {
            display: flex;
            justify-content: space-between;
            margin: 20px 0;
        }

        .parent-group {
            width: 48%;
        }

        .parent-name {
            font-weight: 700;
            font-size: 16px;
            margin-bottom: 2px;
        }

        .parent-address {
            font-size: 14px;
            line-height: 1.3;
            color: var(--secondary-text);
        }

        .announcement {
            text-align: center;
            margin: 15px 0;
            font-size: 18px;
            font-weight: 600;
            line-height: 1.4;
        }

        .center-names {
            text-align: center;
        }

        .name-large {
            font-family: 'Playfair Display', serif;
            font-size: 36px;
            font-weight: 700;
            line-height: 1.1;
            margin: 5px 0;
        }

        .and {
            font-family: 'Great Vibes', cursive;
            font-size: 30px;
            margin: 8px 0;
        }

        .ceremony-details {
            text-align: center;
            margin: 15px 0;
        }

        .ceremony-title {
            font-size: 18px;
            font-weight: 600;
        }

        .time {
            font-size: 20px;
            font-weight: 600;
            margin: 8px 0;
        }

        .date {
            font-size: 26px;
            font-weight: 600;
            margin: 15px 0;
        }

        .lunar-date {
            font-size: 16px;
            margin: 5px 0;
            font-style: italic;
            color: var(--secondary-text);
        }

        .nav-container {
            position: fixed;
            bottom: 20px;
            width: 100%;
            display: flex;
            justify-content: center;
            z-index: 100;
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--primary-color);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            border: none;
            outline: none;
        }

        .nav-btn:hover {
            transform: scale(1.05);
            background-color: var(--light-primary);
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .page-indicators {
            position: fixed;
            bottom: 80px;
            width: 100%;
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 100;
        }

        .indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(147, 64, 77, 0.3);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .indicator.active {
            background-color: var(--primary-color);
        }
    </style>
</head>
<body>
    <div class="fullscreen-container">
        <div class="bg-elements" id="bg-elements"></div>
        <div class="hearts" id="hearts"></div>
        
        <div class="card-container">
            <!-- Page 1: Cover -->
            <div class="page active" id="page-1">
                <div class="page-content">
                    <div style="margin-top: 10px;">
                        <div class="save-date">SAVE OUR DATE</div>
                        <div class="names">
                            <div class="name-large">NGỌC THẢO</div>
                            <div class="and">and</div>
                            <div class="name-large">ANH KHOA</div>
                        </div>
                        <div class="date">05.04.2025</div>
                    </div>

                    <div style="margin-bottom: 20px;">
                        <div class="invitation">Trân Trọng Kính Mời</div>
                        <div class="dotted-line"></div>
                    </div>
                </div>
                
                <!-- Floral decoration -->
                <svg class="decoration floral-top-right" viewBox="0 0 200 300" xmlns="http://www.w3.org/2000/svg">
                    <path d="M100,250 C60,220 40,180 50,150 C55,135 70,125 85,130 C95,133 100,145 95,160 C90,175 75,185 60,175 C45,165 50,140 65,130 C80,120 95,125 105,140 C115,155 110,175 95,185 C80,195 65,190 55,175 C45,160 50,145 65,135 C80,125 95,130 105,145" fill="none" stroke="#93404D" stroke-width="1.5"/>
                    <path d="M100,250 C140,220 160,180 150,150 C145,135 130,125 115,130 C105,133 100,145 105,160 C110,175 125,185 140,175 C155,165 150,140 135,130 C120,120 105,125 95,140 C85,155 90,175 105,185 C120,195 135,190 145,175 C155,160 150,145 135,135 C120,125 105,130 95,145" fill="none" stroke="#93404D" stroke-width="1.5"/>
                </svg>
                
                <svg class="decoration floral-bottom-left" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
                    <path d="M100,180 C70,160 60,120 80,100 C90,90 110,90 120,100 C125,105 125,115 120,125 C115,135 105,140 95,135 C85,130 85,115 95,105 C105,95 115,100 120,110 C125,120 120,130 110,135 C100,140 90,135 85,125 C80,115 85,105 95,100 C105,95 115,100 120,110" fill="none" stroke="#93404D" stroke-width="2"/>
                </svg>
            </div>

           <!-- Page 2: Inside Left -->
            <div class="page active" id="page-2">
                <div class="page-content">
                    <div class="parents-info">
                        <!-- Gia đình cô dâu -->
                        <div class="parent-group">
                            <div class="parent-name">Ông - Bà</div>
                            <div class="parent-name">NGUYỄN TRUNG HIẾU</div>
                            <div class="parent-name">HUỲNH KIM NGỌC</div>
                            <div class="parent-address">7/9 Nguyễn Thị Sóc, Xã Bà Điểm, Huyện Hóc Môn - TP. HCM</div>
                        </div>
                        
                        <!-- Gia đình chú rể -->
                        <div class="parent-group">
                            <div class="parent-name">Ông - Bà</div>
                            <div class="parent-name">TRẦN THANH SANG</div>
                            <div class="parent-name">NGUYỄN THỊ THU THẢO</div>
                            <div class="parent-address">20B Đặng Thị Siêu, Ấp 3A, Xã Tân Thạnh Tây, Huyện Củ Chi, TP. HCM</div>
                        </div>
                    </div>
                    
                    <div class="announcement">
                        TRÂN TRỌNG BÁO TIN LỄ VU QUY<br>CỦA HAI CON CHÚNG TÔI
                    </div>
                    
                    <div class="center-names">
                        <div class="name-large">NGUYỄN HUỲNH<br>NGỌC THẢO</div>
                        <div class="bride-groom-title">TRƯỞNG NỮ</div>
                        <div class="and">and</div>
                        <div class="name-large">TRẦN<br>ANH KHOA</div>
                        <div class="bride-groom-title">ÚT NAM</div>
                    </div>
                    
                    <div class="ceremony-details">
                        <div class="ceremony-title">HÔN LỄ ĐƯỢC CỬ HÀNH TẠI TƯ GIA</div>
                        <div class="time">VÀO LÚC: 09 GIỜ 00</div>
                        <div class="date">NGÀY 06 THÁNG 04 NĂM 2025</div>
                        <div class="lunar-date">(Nhằm ngày 09 tháng 03 năm Ất Tỵ)</div>
                    </div>
                </div>
            </div>
        </div>
        
  
        <div class="page-indicators">
            <div class="indicator active" data-page="2"></div>
        </div>
    </div>

            <!-- Page 3: Inside Right -->
            <div class="page" id="page-3">
                <div class="page-content">
                    <div class="reception">
                        <div class="names">
                            <div class="name-large">NGỌC THẢO</div>
                            <div class="and">and</div>
                            <div class="name-large">ANH KHOA</div>
                        </div>
                        
                        <div class="invitation">TRÂN TRỌNG KÍNH MỜI:</div>
                        <div class="dotted-line"></div>
                        
                        <div style="margin-top: 20px;">
                            ĐẾN DỰ BUỔI TIỆC RƯỢU<br>
                            CHUNG VUI CÙNG GIA ĐÌNH CHÚNG TÔI
                        </div>
                        
                        <div style="margin-top: 20px;">
                            <div>TẠI:</div>
                            <div class="venue">HUỲNH THẢO CENTER</div>
                            <div>(SẢNH 02)</div>
                            <div class="venue-address">
                                114 LÊ THỊ HÀ, XÃ TÂN XUÂN<br>
                                HÓC MÔN, TP.HCM
                            </div>
                        </div>
                        
                        <div class="reception-time">
                            <div>VÀO LÚC: 18 GIỜ 30, THỨ BẢY</div>
                            <div class="time-large">05.04.2025</div>
                            <div class="lunar-date">(Nhằm ngày 08 tháng 03 năm Ất Tỵ)</div>
                        </div>
                        
                        <div>
                            <div class="additional-info">Đón Khách: 17H00</div>
                            <div class="additional-info">Khai Tiệc: 19H00</div>
                        </div>
                        
                        <div class="kinhMoi">Kính mời!</div>
                    </div>
                </div>
            </div>

            <!-- Page 4: QR Code -->
            <div class="page qr-page" id="page-4">
                <div class="page-content">
                    <div class="qr-code" id="qr-code"></div>
                    <div class="qr-text">
                        Quét mã QR để đến<br>
                        địa điểm tổ chức đám cưới!
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Navigation -->
        <div class="nav-container">
            <div class="nav-buttons">
                <button class="nav-btn" id="prev-btn" disabled>&larr;</button>
                <button class="nav-btn" id="next-btn">&rarr;</button>
            </div>
        </div>
        
        <div class="page-indicators">
            <div class="indicator" data-page="1"></div>
            <div class="indicator" data-page="2"></div>
            <div class="indicator active" data-page="3"></div>
            <div class="indicator" data-page="4"></div>
        </div>
    </div>

    <!-- Thêm thư viện QRCode.js -->
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs/qrcode.min.js"></script>


    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const pages = document.querySelectorAll('.page');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const indicators = document.querySelectorAll('.indicator');
            const qrCode = document.getElementById('qr-code');
            const instruction = document.getElementById('instruction');
            const bgElements = document.getElementById('bg-elements');
            const hearts = document.getElementById('hearts');
            
            let currentPage = 1;
            const totalPages = pages.length;
            
            // Map URL when QR is clicked
            const mapUrl = "https://goo.gl/maps/example"; // Replace with actual map URL
            
            // Create falling petals
            function createPetals() {
                const petalColors = ['#93404D', '#b76d78', '#d9a6ac'];
                const petalCount = window.innerWidth < 768 ? 15 : 25;
                
                for (let i = 0; i < petalCount; i++) {
                    setTimeout(() => {
                        const petal = document.createElement('div');
                        petal.classList.add('petal');
                        
                        // Random petal type
                        const petalType = Math.floor(Math.random() * 3);
                        const color = petalColors[Math.floor(Math.random() * petalColors.length)];
                        
                        // Create SVG for petal
                        const petalSize = Math.random() * 20 + 15;
                        let svgPath = '';
                        
                        if (petalType === 0) {
                            // Heart shape
                            svgPath = `<svg width="${petalSize}" height="${petalSize}" viewBox="0 0 100 100"><path fill="${color}" d="M50,90 C100,65 90,10 50,30 C10,10 0,65 50,90 Z" /></svg>`;
                        } else if (petalType === 1) {
                            // Flower petal
                            svgPath = `<svg width="${petalSize}" height="${petalSize}" viewBox="0 0 100 100"><path fill="${color}" d="M50,0 C70,30 100,50 50,100 C0,50 30,30 50,0 Z" /></svg>`;
                        } else {
                            // Oval petal
                            svgPath = `<svg width="${petalSize}" height="${petalSize}" viewBox="0 0 100 100"><ellipse cx="50" cy="50" rx="30" ry="45" fill="${color}" transform="rotate(${Math.random() * 360} 50 50)" /></svg>`;
                        }
                        
                        const blob = new Blob([svgPath], {type: 'image/svg+xml'});
                        const url = URL.createObjectURL(blob);
                        
                        petal.style.width = `${petalSize}px`;
                        petal.style.height = `${petalSize}px`;
                        petal.style.backgroundImage = `url('${url}')`;
                        petal.style.left = `${Math.random() * 100}%`;
                        petal.style.animationDuration = `${Math.random() * 10 + 10}s`;
                        petal.style.animationDelay = `${Math.random() * 5}s`;
                        petal.style.animation = `fallingPetal ${Math.random() * 10 + 8}s linear ${Math.random() * 10}s infinite`;
                        
                        bgElements.appendChild(petal);
                    }, i * 300);
                }
            }
            
            // Create floating hearts
            function createHearts() {
                const heartCount = 15;
                
                setInterval(() => {
                    if (document.visibilityState === 'visible') {
                        const heart = document.createElement('div');
                        heart.classList.add('heart');
                        
                        const size = Math.random() * 15 + 10;
                        heart.style.width = `${size}px`;
                        heart.style.height = `${size}px`;
                        
                        // Position at bottom of screen
                        heart.style.bottom = '10px';
                        heart.style.left = `${Math.random() * 100}%`;
                        
                        // Animation
                        heart.style.animation = `floatingHeart ${Math.random() * 5 + 8}s ease-out forwards`;
                        
                        hearts.appendChild(heart);
                        
                        // Remove after animation completes
                        setTimeout(() => {
                            heart.remove();
                        }, 13000);
                    }
                }, 800);
            }
            
            // Update page visibility and classes
            function updatePages() {
                pages.forEach((page, index) => {
                    const pageNum = index + 1;
                    page.className = 'page';
                    
                    if (pageNum === currentPage) {
                        page.classList.add('active');
                    } else if (pageNum < currentPage) {
                        page.classList.add('prev');
                    } else {
                        page.classList.add('next');
                    }
                });
                
                // Update indicators
                indicators.forEach((indicator, index) => {
                    if (index + 1 === currentPage) {
                        indicator.classList.add('active');
                    } else {
                        indicator.classList.remove('active');
                    }
                });
                
                // Update buttons
                prevBtn.disabled = currentPage === 1;
                nextBtn.disabled = currentPage === totalPages;
                
                // Set initial page
                if (window.location.hash === '#page3' || currentPage === 3) {
                    goToPage(3);
                }
                
                // No instruction to update now
            }
            
            // Navigate to previous page
            function goToPrevPage() {
                if (currentPage > 1) {
                    currentPage--;
                    updatePages();
                    playPageSound();
                }
            }
            
            // Navigate to next page
            function goToNextPage() {
                if (currentPage < totalPages) {
                    currentPage++;
                    updatePages();
                    playPageSound();
                }
            }
            
            // Go to specific page
            function goToPage(pageNum) {
                if (pageNum >= 1 && pageNum <= totalPages) {
                    currentPage = pageNum;
                    updatePages();
                    playPageSound();
                }
            }
            
            // Play page turn sound
            function playPageSound() {
                // Simple trick to simulate page turning sound using oscillator
                try {
                    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioCtx.createOscillator();
                    const gainNode = audioCtx.createGain();
                    
                    oscillator.type = 'triangle';
                    oscillator.frequency.setValueAtTime(800, audioCtx.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(300, audioCtx.currentTime + 0.2);
                    
                    gainNode.gain.setValueAtTime(0.1, audioCtx.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + 0.2);
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioCtx.destination);
                    
                    oscillator.start();
                    oscillator.stop(audioCtx.currentTime + 0.2);
                } catch (e) {
                    // Silent fail if audio context isn't supported
                    console.log('Audio not supported');
                }
            }
            
            // Event listeners
            prevBtn.addEventListener('click', goToPrevPage);
            nextBtn.addEventListener('click', goToNextPage);
            
            // Indicator clicks
            indicators.forEach(indicator => {
                indicator.addEventListener('click', () => {
                    goToPage(parseInt(indicator.dataset.page));
                });
            });
            
            // QR code click
            qrCode.addEventListener('click', () => {
                window.open(mapUrl, '_blank');
            });
            
            // Touch swipe functionality
            let touchStartX = 0;
            let touchEndX = 0;
            let touchStartY = 0;
            let touchEndY = 0;
            
            document.addEventListener('touchstart', e => {
                touchStartX = e.changedTouches[0].screenX;
                touchStartY = e.changedTouches[0].screenY;
            }, false);
            
            document.addEventListener('touchend', e => {
                touchEndX = e.changedTouches[0].screenX;
                touchEndY = e.changedTouches[0].screenY;
                handleSwipe();
            }, false);
            
            function handleSwipe() {
                const swipeThreshold = 50;
                const verticalThreshold = 100;
                const verticalMovement = Math.abs(touchEndY - touchStartY);
                
                // Only handle horizontal swipes (not vertical scrolling)
                if (verticalMovement < verticalThreshold) {
                    if (touchEndX < touchStartX - swipeThreshold) {
                        // Swipe left - go to next page
                        goToNextPage();
                    }
                    
                    if (touchEndX > touchStartX + swipeThreshold) {
                        // Swipe right - go to previous page
                        goToPrevPage();
                    }
                }
            }
            
            // Keyboard navigation
            document.addEventListener('keydown', e => {
                if (e.key === 'ArrowRight' || e.key === ' ') {
                    goToNextPage();
                } else if (e.key === 'ArrowLeft') {
                    goToPrevPage();
                }
            });
            
            // Resize handler for responsive adjustments
            window.addEventListener('resize', () => {
                // Clear and recreate petals on resize
                bgElements.innerHTML = '';
                createPetals();
            });
            
            // Initialize
            createPetals();
            createHearts();
            updatePages();
            
            // Initial animation hint
            setTimeout(() => {
                nextBtn.classList.add('pulse');
                setTimeout(() => {
                    nextBtn.classList.remove('pulse');
                }, 1000);
            }, 3000);
        });
    </script>
</body>
</html>
